{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-06T16:47:11.999Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 4,
    "implemented": 4,
    "items": [
      {
        "id": "REQ-10",
        "summary": "Add a confirmation dialog before logout that warns the user they are about to sign out and can switch accounts; if there are pending offline actions, explicitly warn that they will be cleared to avoid mixing data between accounts.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/SwitchAccountConfirmDialog.tsx",
          "frontend/src/components/TopBar.tsx",
          "frontend/src/offline/offlineQueue.ts"
        ],
        "matchedFiles": [
          "frontend/src/components/SwitchAccountConfirmDialog.tsx",
          "frontend/src/components/TopBar.tsx",
          "frontend/src/offline/offlineQueue.ts"
        ]
      },
      {
        "id": "REQ-11",
        "summary": "Ensure switching accounts does not leak or mix offline-first queued actions or optimistic data across users by clearing the IndexedDB offline queue and optimistic store as part of the logout flow, along with clearing React Query cached data.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/offline/offlineQueue.ts",
          "frontend/src/hooks/useSwitchAccount.ts",
          "frontend/src/offline/useOfflineSync.ts"
        ],
        "matchedFiles": [
          "frontend/src/offline/offlineQueue.ts",
          "frontend/src/hooks/useSwitchAccount.ts"
        ]
      },
      {
        "id": "REQ-12",
        "summary": "Expose the logout/switch-account action consistently wherever a TopBar is shown (not only on the Dashboard), so the user can switch accounts from any main screen.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/screens/AddSaleScreen.tsx",
          "frontend/src/screens/AddExpenseScreen.tsx",
          "frontend/src/screens/DailySummaryScreen.tsx",
          "frontend/src/screens/MonthlyGoalScreen.tsx"
        ],
        "matchedFiles": [
          "frontend/src/screens/AddSaleScreen.tsx",
          "frontend/src/screens/AddExpenseScreen.tsx",
          "frontend/src/screens/DailySummaryScreen.tsx",
          "frontend/src/screens/MonthlyGoalScreen.tsx"
        ]
      },
      {
        "id": "REQ-9",
        "summary": "Add a clear, user-visible “Switch account” / logout action that signs the user out of Internet Identity and returns the app to the Welcome screen so the user can log in with a different account.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/useSwitchAccount.ts",
          "frontend/src/screens/DashboardScreen.tsx",
          "frontend/src/components/TopBar.tsx",
          "frontend/src/App.tsx"
        ],
        "matchedFiles": [
          "frontend/src/hooks/useSwitchAccount.ts",
          "frontend/src/screens/DashboardScreen.tsx",
          "frontend/src/components/TopBar.tsx",
          "frontend/src/App.tsx"
        ]
      }
    ]
  },
  "changedFiles": [
    "build-request.json",
    "build-template/README.md",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/src/App.tsx",
    "frontend/src/components/SwitchAccountConfirmDialog.tsx",
    "frontend/src/components/TopBar.tsx",
    "frontend/src/hooks/useSwitchAccount.ts",
    "frontend/src/offline/offlineQueue.ts",
    "frontend/src/screens/AddExpenseScreen.tsx",
    "frontend/src/screens/AddSaleScreen.tsx",
    "frontend/src/screens/DailySummaryScreen.tsx",
    "frontend/src/screens/DashboardScreen.tsx",
    "frontend/src/screens/MonthlyGoalScreen.tsx",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}